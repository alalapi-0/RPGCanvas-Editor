# RPGCanvas Editor

## 项目简介
RPGCanvas Editor 是一个基于原生 HTML5 Canvas 的 RPG Maker 风格 2D 地图编辑器。项目遵循“纯前端、零依赖”的设计理念，强调可维护的模块化结构，旨在多轮迭代中逐步完善地图绘制、素材管理与导入导出等功能。本轮聚焦于搭建首版脚手架，确保布局、样式与初始化流程可靠，为后续功能开发奠定基础。

## 当前目标（第 1 轮）
- 构建最小可运行页面，包含顶部工具栏、左侧素材面板占位、中央画布和底部状态栏。
- 配置基础样式与主题变量，保证布局响应浏览器窗口变化且视觉统一。
- 初始化核心模块（UI、Renderer、Editor、IO、Main），提供占位方法与日志输出。
- 页面加载完成后在控制台打印就绪信息，确保无错误或警告。

## 当前非目标
- 不实现任何地图编辑、素材渲染或文件读写逻辑。
- 不加载真实素材或地图数据，素材网格仅提供占位元素。
- 不处理复杂的相机缩放、平移等交互，仅记录窗口尺寸变化。

## 硬性约束
1. 仅使用原生 HTML/CSS/JavaScript(ES6)，禁止引入第三方库或框架。
2. 直接打开 `index.html` 即可运行，无需构建工具。
3. 所有 JavaScript 代码逐行添加中文注释，说明用途与原因。
4. 单元格（tile）像素尺寸固定为 48×48。
5. 本轮仅处理布局与初始化，不涉及业务功能实现。
6. 不生成任何二进制资源；素材 PNG 由后续迭代补充到 `assets/`。
7. 代码风格需保持模块清晰、便于扩展，文件顶部写模块头注释。
8. README 必须详细记录定位、目录、运行方式、后续路线与验收清单。

## 目录结构
```
/ (项目根目录)
├─ index.html              # 页面入口，定义基础布局与脚本加载顺序
├─ css/
│  └─ styles.css           # 全局主题变量、布局与组件样式
├─ js/
│  ├─ main.js              # 应用入口，组织初始化流程与全局事件
│  ├─ renderer.js          # 渲染器骨架，负责 Canvas 初始化与网格绘制占位
│  ├─ editor.js            # 编辑器骨架，维护当前地图与图层状态占位
│  ├─ ui.js                # UI 组装逻辑，绑定基础界面事件占位
│  └─ io.js                # 导入导出占位函数，仅输出日志
├─ assets/
│  └─ manifest.json        # 素材清单占位，记录 tileSize 与版本
├─ data/
│  └─ .keep                # 占位文件，保持目录存在以存放后续示例数据
└─ README.md               # 项目文档（本文件）
```

## 运行方式
1. 直接双击 `index.html`，使用现代浏览器（推荐 Chrome / Edge）打开即可预览。
2. 若浏览器策略限制本地文件访问，建议使用 VSCode Live Server 或任意静态服务器启动根目录。
3. 打开浏览器开发者工具，可在控制台看到初始化日志，验证脚手架是否正常运行。

## 后续路线图（第 2 ~ 15 轮概述）
- **第 2 轮**：实现基础地图数据结构与新建地图对话流程。
- **第 3 轮**：完成素材加载与缩略图渲染，占位资产替换为真实 PNG。
- **第 4 轮**：加入网格绘制优化与相机缩放/平移交互。
- **第 5 轮**：实现图层可见性控制与图层排序面板。
- **第 6 轮**：添加基础绘制工具（画笔/橡皮擦）与撤销重做系统。
- **第 7 轮**：提供地图导入导出功能，支持 JSON 格式。
- **第 8 轮**：完善状态栏信息，显示地图尺寸、图层与光标坐标。
- **第 9 轮**：实现素材包管理界面（过滤、搜索、标记收藏）。
- **第 10 轮**：加入多地图项目支持与快速切换功能。
- **第 11 轮**：整合键盘快捷键与自定义配置存储。
- **第 12 轮**：添加辅助工具（对齐线、区域选择、填充）。
- **第 13 轮**：优化性能（离屏渲染、虚拟滚动）并增强大地图体验。
- **第 14 轮**：提供导出预览与截图分享功能。
- **第 15 轮**：完成文档、单元测试与发布准备。

## 本轮验收清单
- [x] 打开 `index.html` 可看到顶部工具栏、左侧面板占位、中央 Canvas 与底部状态栏。
- [x] 控制台打印 `[RPGCanvas] v0.1 boot OK` 与 `[RPGCanvas] DOM ready, modules initialized` 两行日志。
- [x] 所有 JavaScript 文件逐行中文注释，无未使用变量或语法警告。
- [x] 控制台无错误，样式正常，窗口大小变化不会触发异常。
- [x] `assets/manifest.json` 为合法 JSON，能够被 `JSON.parse` 正常解析。

---

> 本文档将随迭代更新，确保每轮目标、约束与交付物记录完整。欢迎在 Issue 中提出建议或反馈。
